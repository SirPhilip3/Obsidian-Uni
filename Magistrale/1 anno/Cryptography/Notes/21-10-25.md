$E_k(x_1,\dots,x_d) = (x_1+k, \dots,x_d + k) \mod{26}$
P=C=$Z_{26}^d$ $K=Z_{26}$ 

if p of all cipher greater than 0 if number of keys > nÂ° of pl  perfect

$|K| = 26$ 
$|P| = 26^d$ -> d lenght of blocks 
-> not enugh keys th1

if we generate 1 key for each letter than "perfect"

second method 
find 1 x and 1 y for whitch $P_p(x|y) = P_p(x)$ doesnt hold

ex : $X = x_1,\dots,x_d$ , $y =(y_1, \dots,y_d) = x_1 + k\mod{26}, \dots$

d = 5 
result = all 0 dim that i can't i find a k for which this happend 
ex x = GOOFY -> p_x = p(goofy) > 0  it exists in english 
p(goofy | 00000) -> impossible we can have a single k that maps goofy to all 0

p(goofy) >0 , p(goofy | 00000) = 0
p(goofy) >0 != p(goofy | 00000) 

---
chipher is perfect (assuming |P|=|C|=|K|) if all keys same probability and for each plain and cipher exactly one key that maps that 

proof ->

the  2 prev th are true since we know the cipher is perfect
+ exists 1 key for each x -> y

we than know that |K| >= |C| is true and p(y)>0
p(y|x) = p(y) > 0 since we know that the chiper is perfect 
in this case we can say that at least one key exists 

p(y|x) = p(y) if def 1 holds 

unique key = by initial assumption |K| >= |C| become |K| =|C| -> unique key 

+ p(k) = 1/|K| dim

p(y|x) = sum of the keys that maps x to y -> by previos dim 1 key ->
p(y|x) = p(k) also by prev = p(y) = p(y|x) = p(k) 

fixing 1 chiphertext -> p(k)=p(y) > since by hypotesis |K| = |C| and sum og all prob must be 1 -> p(k) = 1/|K| 

---
One time pad

variant vigenere cipher 

plaintext -> binary strings of lenght d 
key -> binary strings of lenght d
cipher ->  binary strings of lenght d 

xor operation between each letter of plaintext -> key 

p of a certain k -> possible keys $2^d$ -> p = 1/$2^d$ 
possible plaintext -> $2^d$ since they are == -> prob of all cipher > 0 (just all the possible strings)

for the second th (also the hypotesis hold)
+ by definition of the cipher
+ k_1 = y_1 xor x_1  -> unique key 

---
modern ciphers 

cipher composition -> reapply operations in rounds , at least one of them non linear

example -> shift cipher reapplied -> like using 2 keys combinaed -> subject to same attacks 

AB -3-> DE -2-> FG same as AB -5>FG

at exam definition composition
$S_1 \times S_2 = (P,C,K_1 \times K_2 , E, D)$ where $E = E^2(E^1)$ and $D = D^1(D^2)$

for shift 
$E_{k1}^1 (x) = x + k_1 \mod{26} = y_1$
$E_{k2}^2(y_1) = E_{k2}^2(x + k_1 \mod{26}) = (x + k_1 \mod{26}) + k_2 \mod{26} = x + (k_1+ k_2) \mod{26}$
--
shift + substitution 

permuation cipher with key shifted by the shift of the shift cipher , order of application does not change the result

vigenere + shift 
vigenere where key is just shifted by 8 

--
idempotent -> composition results in same type of cipher 
strong are ciphers that are not idempotent

